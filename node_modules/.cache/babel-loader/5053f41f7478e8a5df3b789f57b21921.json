{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useCallback, useEffect } from \"react\"; // triggerList should be providad in the order os specificity\n\nconst useContextMenu = ({\n  triggersList = []\n} = {}) => {\n  _s();\n\n  const [xPos, setXPos] = useState(\"0px\");\n  const [yPos, setYPos] = useState(\"0px\");\n  const [showMenu, setShowMenu] = useState(false);\n  const [target, setTarget] = useState(null);\n  const handleContextMenu = useCallback(e => {\n    const el = triggersList.reduce((acc, el) => acc || e.target.closest(el), false);\n\n    if (el) {\n      e.preventDefault();\n      setXPos(`${e.pageX}px`);\n      setYPos(`${e.pageY}px`);\n      setShowMenu(true);\n      setTarget(el);\n    }\n  }, [setXPos, setYPos]);\n  const handleClick = useCallback(() => showMenu && setShowMenu(false), [showMenu]);\n  useEffect(() => {\n    document.addEventListener(\"click\", handleClick);\n    document.addEventListener(\"contextmenu\", handleContextMenu);\n    return () => {\n      document.addEventListener(\"click\", handleClick);\n      document.removeEventListener(\"contextmenu\", handleContextMenu);\n    };\n  });\n  return {\n    xPos,\n    yPos,\n    showMenu,\n    target,\n    setShowMenu\n  };\n};\n\n_s(useContextMenu, \"A/Z5Ak9seFhytY+dHqMfPgIncIk=\");\n\nexport default useContextMenu;","map":{"version":3,"sources":["/Users/giovanna/Documents/MC855/green-metric/web-app/src/hooks/useContextMenu.jsx"],"names":["useState","useCallback","useEffect","useContextMenu","triggersList","xPos","setXPos","yPos","setYPos","showMenu","setShowMenu","target","setTarget","handleContextMenu","e","el","reduce","acc","closest","preventDefault","pageX","pageY","handleClick","document","addEventListener","removeEventListener"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,WAAnB,EAAgCC,SAAhC,QAAiD,OAAjD,C,CAEA;;AACA,MAAMC,cAAc,GAAG,CAAC;AAAEC,EAAAA,YAAY,GAAG;AAAjB,IAAwB,EAAzB,KAAgC;AAAA;;AACtD,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBN,QAAQ,CAAC,KAAD,CAAhC;AACA,QAAM,CAACO,IAAD,EAAOC,OAAP,IAAkBR,QAAQ,CAAC,KAAD,CAAhC;AACA,QAAM,CAACS,QAAD,EAAWC,WAAX,IAA0BV,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAACW,MAAD,EAASC,SAAT,IAAsBZ,QAAQ,CAAC,IAAD,CAApC;AAEA,QAAMa,iBAAiB,GAAGZ,WAAW,CACnCa,CAAD,IAAO;AACN,UAAMC,EAAE,GAAGX,YAAY,CAACY,MAAb,CACV,CAACC,GAAD,EAAMF,EAAN,KAAaE,GAAG,IAAIH,CAAC,CAACH,MAAF,CAASO,OAAT,CAAiBH,EAAjB,CADV,EAEV,KAFU,CAAX;;AAKA,QAAIA,EAAJ,EAAQ;AACPD,MAAAA,CAAC,CAACK,cAAF;AACAb,MAAAA,OAAO,CAAE,GAAEQ,CAAC,CAACM,KAAM,IAAZ,CAAP;AACAZ,MAAAA,OAAO,CAAE,GAAEM,CAAC,CAACO,KAAM,IAAZ,CAAP;AACAX,MAAAA,WAAW,CAAC,IAAD,CAAX;AACAE,MAAAA,SAAS,CAACG,EAAD,CAAT;AACA;AACD,GAdmC,EAepC,CAACT,OAAD,EAAUE,OAAV,CAfoC,CAArC;AAkBA,QAAMc,WAAW,GAAGrB,WAAW,CAAC,MAAMQ,QAAQ,IAAIC,WAAW,CAAC,KAAD,CAA9B,EAAuC,CACrED,QADqE,CAAvC,CAA/B;AAIAP,EAAAA,SAAS,CAAC,MAAM;AACfqB,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,EAAmCF,WAAnC;AACAC,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,aAA1B,EAAyCX,iBAAzC;AACA,WAAO,MAAM;AACZU,MAAAA,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,EAAmCF,WAAnC;AACAC,MAAAA,QAAQ,CAACE,mBAAT,CAA6B,aAA7B,EAA4CZ,iBAA5C;AACA,KAHD;AAIA,GAPQ,CAAT;AASA,SAAO;AAAER,IAAAA,IAAF;AAAQE,IAAAA,IAAR;AAAcE,IAAAA,QAAd;AAAwBE,IAAAA,MAAxB;AAAgCD,IAAAA;AAAhC,GAAP;AACA,CAtCD;;GAAMP,c;;AAwCN,eAAeA,cAAf","sourcesContent":["import { useState, useCallback, useEffect } from \"react\";\n\n// triggerList should be providad in the order os specificity\nconst useContextMenu = ({ triggersList = [] } = {}) => {\n\tconst [xPos, setXPos] = useState(\"0px\");\n\tconst [yPos, setYPos] = useState(\"0px\");\n\tconst [showMenu, setShowMenu] = useState(false);\n\tconst [target, setTarget] = useState(null);\n\n\tconst handleContextMenu = useCallback(\n\t\t(e) => {\n\t\t\tconst el = triggersList.reduce(\n\t\t\t\t(acc, el) => acc || e.target.closest(el),\n\t\t\t\tfalse\n\t\t\t);\n\n\t\t\tif (el) {\n\t\t\t\te.preventDefault();\n\t\t\t\tsetXPos(`${e.pageX}px`);\n\t\t\t\tsetYPos(`${e.pageY}px`);\n\t\t\t\tsetShowMenu(true);\n\t\t\t\tsetTarget(el);\n\t\t\t}\n\t\t},\n\t\t[setXPos, setYPos]\n\t);\n\n\tconst handleClick = useCallback(() => showMenu && setShowMenu(false), [\n\t\tshowMenu,\n\t]);\n\n\tuseEffect(() => {\n\t\tdocument.addEventListener(\"click\", handleClick);\n\t\tdocument.addEventListener(\"contextmenu\", handleContextMenu);\n\t\treturn () => {\n\t\t\tdocument.addEventListener(\"click\", handleClick);\n\t\t\tdocument.removeEventListener(\"contextmenu\", handleContextMenu);\n\t\t};\n\t});\n\n\treturn { xPos, yPos, showMenu, target, setShowMenu };\n};\n\nexport default useContextMenu;\n"]},"metadata":{},"sourceType":"module"}