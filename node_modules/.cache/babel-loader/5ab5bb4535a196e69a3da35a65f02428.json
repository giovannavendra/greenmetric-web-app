{"ast":null,"code":"import axios from \"axios\";\nimport { servAddr } from \"../utils/constants\";\nexport const putMetricData = (id, value) => {\n  return axios.put(`${servAddr}/metrics/${id}`, {\n    data: isNaN(value) ? value : parseInt(value, 10),\n    formsToken: window.localStorage.getItem('formsToken')\n  });\n};\nexport const postForms = (title, metrics) => {\n  return axios.post(`${servAddr}/forms`, {\n    title,\n    metrics\n  });\n};\nexport const putForms = (id, title, metrics) => {\n  return axios.put(`${servAddr}/forms`, {\n    id,\n    title,\n    metrics\n  });\n};\nexport const getForms = () => {\n  return axios.get(`${servAddr}/forms`);\n};\nexport const postEvidence = (metricId, file) => {\n  let formData = new FormData();\n  formData.append(\"data\", file, file.name);\n  formData.append(\"formsToken\", window.localStorage.getItem('formsToken'));\n\n  if (window.localStorage.getItem('token')) {\n    return axios.post(`${servAddr}/metrics/${metricId.replace(/\\//g, '-')}/evidence`, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n  } else {\n    return axios.post(`${servAddr}/submit/metrics/${metricId.replace(/\\//g, '-')}/evidence`, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n  }\n};\nexport const getMetricbyId = metricId => {\n  return axios.get(`${servAddr}/metrics/${metricId.replace(/\\//g, '-')}`);\n};\nexport const deleteEvidence = (metricId, evidenceId) => {\n  return axios.delete(`${servAddr}/metrics/${metricId.replace(/\\//g, '-')}/evidence/${evidenceId}`);\n};\nexport const getMetrics = () => {\n  return axios.get(`${servAddr}/metrics`);\n};\nexport const deleteForms = formsId => {\n  return axios.delete(`${servAddr}/forms/${formsId}`);\n};\nexport const getFormsByToken = token => {\n  return axios.get(`${servAddr}/api/auth/forms/${token}`);\n};\nexport const refreshTokenForm = formsId => {\n  return axios.get(`${servAddr}/forms/${formsId}/refresh`);\n};\nexport const postMetric = metric => {\n  return axios.post(`${servAddr}/metrics`, { ...metric,\n    evidences: [],\n    dependencies: []\n  });\n};\nexport const putMetric = metric => {\n  return axios.put(`${servAddr}/metrics`, { ...metric,\n    evidences: [],\n    dependencies: []\n  });\n};","map":{"version":3,"sources":["/Users/giovanna/Documents/MC855/green-metric/web-app/src/utils/data.js"],"names":["axios","servAddr","putMetricData","id","value","put","data","isNaN","parseInt","formsToken","window","localStorage","getItem","postForms","title","metrics","post","putForms","getForms","get","postEvidence","metricId","file","formData","FormData","append","name","replace","headers","getMetricbyId","deleteEvidence","evidenceId","delete","getMetrics","deleteForms","formsId","getFormsByToken","token","refreshTokenForm","postMetric","metric","evidences","dependencies","putMetric"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { servAddr } from \"../utils/constants\";\n\nexport const putMetricData = (id, value) => {\n    return axios.put(`${servAddr}/metrics/${id}`, {\n        data: isNaN(value) ? value : parseInt(value, 10),\n        formsToken: window.localStorage.getItem('formsToken')\n    });\n};\n\nexport const postForms = (title, metrics) => {\n    return axios.post(`${servAddr}/forms`, {\n        title,\n        metrics,\n    });\n};\n\nexport const putForms = (id, title, metrics) => {\n    return axios.put(`${servAddr}/forms`, {\n        id,\n        title,\n        metrics,\n    });\n};\n\nexport const getForms = () => {\n    return axios.get(`${servAddr}/forms`);\n};\n\nexport const postEvidence = (metricId, file) => {\n\n    let formData = new FormData();\n\n    formData.append(\"data\", file, file.name);\n    formData.append(\"formsToken\", window.localStorage.getItem('formsToken'));\n\n    if (window.localStorage.getItem('token')) {\n        return axios.post(`${servAddr}/metrics/${metricId.replace(/\\//g, '-')}/evidence`, formData, {\n            headers: {\n                'Content-Type': 'multipart/form-data'\n            }\n        })\n    } else {\n        return axios.post(`${servAddr}/submit/metrics/${metricId.replace(/\\//g, '-')}/evidence`, formData, {\n            headers: {\n                'Content-Type': 'multipart/form-data'\n            }\n        })\n    }\n\n}\n\nexport const getMetricbyId = (metricId) => {\n    return axios.get(`${servAddr}/metrics/${metricId.replace(/\\//g, '-')}`)\n}\n\nexport const deleteEvidence = (metricId, evidenceId) => {\n    return axios.delete(`${servAddr}/metrics/${metricId.replace(/\\//g, '-')}/evidence/${evidenceId}`)\n}\n\nexport const getMetrics = () => {\n    return axios.get(`${servAddr}/metrics`)\n}\n\nexport const deleteForms = (formsId) => {\n    return axios.delete(`${servAddr}/forms/${formsId}`)\n}\n\nexport const getFormsByToken = (token) => {\n    return axios.get(`${servAddr}/api/auth/forms/${token}`)\n}\n\nexport const refreshTokenForm = (formsId) => {\n    return axios.get(`${servAddr}/forms/${formsId}/refresh`)\n}\n\nexport const postMetric = (metric) => {\n    return axios.post(`${servAddr}/metrics`, { ...metric, evidences: [], dependencies: [] })\n}\n\nexport const putMetric = (metric) => {\n    return axios.put(`${servAddr}/metrics`, { ...metric, evidences: [], dependencies: [] })\n}\n"]},"metadata":{},"sourceType":"module"}