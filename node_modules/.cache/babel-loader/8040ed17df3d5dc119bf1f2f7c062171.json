{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/giovanna/Documents/MC855/green-metric/web-app/src/components/FormsEditor.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState, useEffect, useCallback, useMemo } from \"react\";\nimport { AppContext } from \"../context/AppContext\";\nimport { dispatchReset, dispatchSetTitle, EditFormsContext } from \"../context/EditFormsContext\";\nimport Question from \"./Question\";\nimport { Form } from \"semantic-ui-react\";\nimport { genFormsList } from \"../utils/utils\";\nimport { postForms, putForms } from \"../utils/data\";\n\nconst FormsEditor = () => {\n  _s();\n\n  const {\n    state\n  } = useContext(AppContext);\n  const {\n    state: stateEF,\n    dispatch: dispatchEF\n  } = useContext(EditFormsContext);\n  const [idList, setIdList] = useState([]);\n  useEffect(() => {\n    setIdList(genFormsList([...state.metrics], [...stateEF.selectedDir]));\n  }, [state, stateEF.selectedDir.size]);\n\n  const onSubmit = async () => {\n    if (stateEF.id) {\n      await putForms(stateEF.id, stateEF.title, [...stateEF.selectedDir]);\n    } else {\n      await postForms(stateEF.title, [...stateEF.selectedDir]);\n    }\n\n    window.location.reload();\n  };\n\n  const questionList = useMemo(() => idList.map(el => {\n    if (el) {\n      const metric = state.metrics.find(metric => metric.id === el);\n      if (metric) return /*#__PURE__*/_jsxDEV(Question, {\n        q: metric,\n        disabled: true\n      }, metric.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 32\n      }, this);\n    }\n\n    return null;\n  }), [idList]);\n  return /*#__PURE__*/_jsxDEV(Form, {\n    children: [/*#__PURE__*/_jsxDEV(Form.Input, {\n      name: \"title\",\n      label: \"Nome do fomul\\xE1rio\",\n      value: stateEF.title,\n      onChange: ({\n        target\n      }) => dispatchEF(dispatchSetTitle(target.value))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), questionList, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-footer\",\n      children: /*#__PURE__*/_jsxDEV(Form.Button, {\n        primary: true,\n        className: \"centered\",\n        color: \"black\",\n        type: \"submit\",\n        onClick: onSubmit,\n        children: \"Enviar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n\n_s(FormsEditor, \"Hy6oLs7MKZlfMBYdndPQIso6MwA=\");\n\n_c = FormsEditor;\nexport default FormsEditor;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormsEditor\");","map":{"version":3,"sources":["/Users/giovanna/Documents/MC855/green-metric/web-app/src/components/FormsEditor.jsx"],"names":["React","useContext","useState","useEffect","useCallback","useMemo","AppContext","dispatchReset","dispatchSetTitle","EditFormsContext","Question","Form","genFormsList","postForms","putForms","FormsEditor","state","stateEF","dispatch","dispatchEF","idList","setIdList","metrics","selectedDir","size","onSubmit","id","title","window","location","reload","questionList","map","el","metric","find","target","value"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect, useCallback, useMemo } from \"react\";\nimport { AppContext } from \"../context/AppContext\";\nimport {\n    dispatchReset,\n    dispatchSetTitle,\n    EditFormsContext,\n} from \"../context/EditFormsContext\";\nimport Question from \"./Question\";\nimport { Form } from \"semantic-ui-react\";\nimport { genFormsList } from \"../utils/utils\";\nimport { postForms, putForms } from \"../utils/data\";\n\nconst FormsEditor = () => {\n    const { state } = useContext(AppContext);\n    const { state: stateEF, dispatch: dispatchEF } = useContext(EditFormsContext);\n\n    const [idList, setIdList] = useState([]);\n\n    useEffect(() => {\n        setIdList(genFormsList([...state.metrics], [...stateEF.selectedDir]));\n    }, [state, stateEF.selectedDir.size]);\n\n    const onSubmit = async () => {\n        if (stateEF.id) {\n            await putForms(stateEF.id, stateEF.title, [...stateEF.selectedDir]);\n        } else {\n            await postForms(stateEF.title, [...stateEF.selectedDir]);\n        }\n\n        window.location.reload();\n    };\n\n    const questionList = useMemo(() => idList.map((el) => {\n        if (el) {\n            const metric = state.metrics.find((metric) => metric.id === el);\n            if (metric) return <Question key={metric.id} q={metric} disabled />;\n        }\n        return null;\n    }), [idList])\n\n    return (\n        <Form>\n            <Form.Input\n                name=\"title\"\n                label=\"Nome do fomulÃ¡rio\"\n                value={stateEF.title}\n                onChange={({ target }) => dispatchEF(dispatchSetTitle(target.value))}\n            />\n            {questionList}\n            <div className='app-footer'>\n                <Form.Button\n                    primary\n                    className=\"centered\"\n                    color=\"black\"\n                    type=\"submit\"\n                    onClick={onSubmit}\n                >\n                    Enviar\n                </Form.Button>\n            </div>\n        </Form>\n    );\n};\n\nexport default FormsEditor;\n"]},"metadata":{},"sourceType":"module"}